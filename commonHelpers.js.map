{"version":3,"file":"commonHelpers.js","sources":["../src/js/modal.js","../src/js/warnings.js","../src/js/home.js","../src/js/all-categories.js","../src/js/scroll-up.js"],"sourcesContent":["import { getBookById } from './booksAPI';\nimport iconsPath from '../img/modal/modal-icons.svg';\nimport { switchBookInList, isBookInList } from './local-storage';\n\nconst ADD_BTN_LABEL = 'add to shopping list';\nconst REMOVE_BTN_LABEL = 'remove from the shopping list';\n\nconst bodyRef = document.querySelector('body');\n\nconst modalBookContainer = document.querySelector('#modalBookContainer');\nconst modalCloseBtn = modalBookContainer.querySelector('#modalClose');\nconst shoppingListBtn = modalBookContainer.querySelector('#shoppingListBtn');\n\nconst bookCover = modalBookContainer.querySelector('#bookCover');\nconst bookTitle = modalBookContainer.querySelector('#bookTitle');\nconst bookAuthor = modalBookContainer.querySelector('#bookAuthor');\nconst bookDescription = modalBookContainer.querySelector('#bookDescription');\nconst amazonLink = modalBookContainer.querySelector('#amazonLink');\nconst iBookLink = modalBookContainer.querySelector('#iBookLink');\n\nmodalCloseBtn.addEventListener('click', onModalCloseBtn);\nshoppingListBtn.addEventListener('click', onShoppingListBtn);\nmodalBookBackground.addEventListener('click', onBackgroundClick);\n\nlet isBookInShopList;\nlet bookData;\nlet currentId;\n\ndocument.addEventListener('keyup', e => {\n  if (e.code === 'Escape') {\n    onModalCloseBtn();\n  }\n});\n\nexport async function onOpenModal(id) {\n  currentId = id;\n  bookData = await getBookById(currentId);\n  isBookInShopList = isBookInList(currentId);\n  updateModalMarkup(bookData, isBookInShopList);\n  modalBookContainer.classList.remove('visually-hidden');\n  modalBookContainer.classList.add('modal-book-container-show');\n  bodyRef.classList.add('overflow-hidden');\n}\n\nfunction onModalCloseBtn() {\n  modalBookContainer.classList.add('visually-hidden');\n  modalBookContainer.classList.remove('modal-book-container-show');\n  bodyRef.classList.remove('overflow-hidden');\n}\n\nfunction onShoppingListBtn() {\n  switchBookInList(currentId);\n  isBookInShopList = isBookInList(currentId);\n  updateBookStatus(isBookInShopList);\n}\n\nfunction updateModalMarkup(data, isInList) {\n  const { book_image, author, title, description, buy_links } = data;\n  const amazonUrl =\n    buy_links.find(buy_link => buy_link.name === 'Amazon')?.url ||\n    'https://www.amazon.com/';\n  const iBooksUrl =\n    buy_links.find(buy_link => buy_link.name === 'Apple Books')?.url ||\n    'https://www.apple.com/apple-books/';\n\n  bookCover.setAttribute('src', book_image);\n  bookCover.setAttribute('alt', title);\n  bookTitle.textContent = title;\n  bookAuthor.textContent = author;\n  bookDescription.textContent = description;\n  amazonLink.setAttribute('href', amazonUrl);\n  iBookLink.setAttribute('href', iBooksUrl);\n\n  updateBookStatus(isInList);\n}\n\nfunction updateBookStatus(isInList) {\n  if (isInList) {\n    shoppingListBtn.textContent = REMOVE_BTN_LABEL;\n    bookCongratulations.classList.remove('visually-hidden');\n  } else {\n    shoppingListBtn.textContent = ADD_BTN_LABEL;\n    bookCongratulations.classList.add('visually-hidden');\n  }\n}\n\nfunction onBackgroundClick(e) {\n  if (e.target === e.currentTarget) {\n    onModalCloseBtn();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function showNoBooksToast() {\n  iziToast.show({\n    message: 'There are no more books in this category',\n    position: 'topRight',\n    backgroundColor: '#eac645',\n  });\n}\n\nexport function showNotInLibraryToast() {\n  iziToast.show({\n    message: 'There are no more categories in this library',\n    position: 'topRight',\n    backgroundColor: '#eac645',\n  });\n}\n","import { getTopList, getBooksByCategory } from './booksAPI.js';\nimport { onOpenModal } from './modal.js';\nimport { spinnerPlay, spinnerStop } from './spinner.js';\nimport { showNoBooksToast, showNotInLibraryToast } from './warnings.js';\n\nconst refs = {\n  topListElem: document.querySelector('#topList'),\n  categoryListElem: document.querySelector('#categoryList'),\n  titleElement: document.querySelector('.top_list-title'),\n  allCategoriesElement: document.querySelector('.all-categories'),\n};\n\nlet isNoBooksToastShown = false;\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  document.addEventListener('click', clickSeeMore);\n  document.addEventListener('click', clickByBook);\n  document.addEventListener('click', clickByAllCategory);\n  window.addEventListener('scroll', scrollHandler); // скрол\n});\n\ndocument.addEventListener('DOMContentLoaded', async function () {\n  spinnerPlay(refs.titleElement);\n  refs.topListElem.innerHTML = '';\n  const topListData = getTopList();\n  const topList = await topListData;\n  let html = '';\n  topList.forEach(elem => {\n    html += renderTopList(elem);\n  });\n  refs.topListElem.innerHTML = html;\n  spinnerStop();\n});\n\nfunction renderTopList(elem) {\n  return `\n        <li class=\"top_list-container\">\n            <h2 class=\"top_list-category_name\">${elem.list_name}</h2>\n            <ul class=\"top_list-cards\">${renderBooks(elem.books)}</ul>\n            <button class=\"top_list-see_more\" data-category=\"${\n              elem.list_name\n            }\">See More</button>\n        </li>\n    `;\n}\n\nfunction renderBooks(books) {\n  let i = 1;\n  const bookHtml = books\n    .map(\n      book => `\n        <li class=\"top_list-card\" data-book-sequence-number=\"${i++}\">\n            <div class=\"top_list-book_cover_wrapper\" data-bookid=\"${\n              book._id\n            }\" tabindex=\"0\">\n                <img class=\"top_list-book_cover\" src=\"${\n                  book.book_image\n                }\" alt=\"${book.title}\">\n                <div class=\"quick-view-text\">Quick view</div>\n            </div>\n            <h3 class=\"top_list-book_title\">${book.title}</h3>\n            <p class=\"top_list-book_author\">${book.author}</p>\n        </li>\n    `\n    )\n    .join('');\n  i++;\n  return bookHtml;\n}\n\nconst clickByBook = function (event) {\n  if (\n    event.target.parentElement?.classList.contains(\n      'top_list-book_cover_wrapper'\n    )\n  ) {\n    const bookId = event.target.parentElement.dataset.bookid;\n    onOpenModal(bookId);\n  }\n};\n\nconst clickSeeMore = function (event) {\n  if (event.target.classList.contains('top_list-see_more')) {\n    refs.topListElem.classList.add('hidden');\n    refs.categoryListElem.classList.remove('hidden');\n    const category = event.target.dataset.category;\n    titleCategory(category);\n    categoryList(category);\n    document.removeEventListener('click', clickByBook);\n    document.addEventListener('click', clickByBook);\n    smoothScrollToElement();\n    allCategoriesClassActive(category);\n  }\n  if (event.target.classList.contains('gallery-link')) {\n    refs.topListElem.classList.add('hidden');\n    refs.categoryListElem.classList.remove('hidden');\n    const category = event.target.textContent.trim();\n    titleCategory(category);\n    categoryList(category);\n    smoothScrollToElement(category);\n    document.removeEventListener('click', clickByBook);\n    document.addEventListener('click', clickByBook);\n    smoothScrollToElement();\n    allCategoriesClassActive(category);\n  }\n};\n\nconst clickByAllCategory = async function (event) {\n  if (event.target.classList.contains('all_categories')) {\n    refs.titleElement.innerHTML = 'Best Sellers <span>Books</span>';\n    refs.categoryListElem.classList.add('hidden');\n    refs.topListElem.classList.remove('hidden');\n    smoothScrollToElement();\n    allCategoriesClassActive('All categories');\n  }\n  if (event.target.classList.contains('link')) {\n    refs.titleElement.innerHTML = 'Best Sellers <span>Books</span>';\n    refs.categoryListElem.classList.add('hidden');\n    refs.topListElem.classList.remove('hidden');\n    smoothScrollToElement();\n  }\n};\n\nasync function categoryList(category) {\n  spinnerPlay(refs.titleElement);\n  refs.categoryListElem.innerHTML = '';\n  const categoryDataPromise = getBooksByCategory(category);\n  const categoryData = await categoryDataPromise;\n  let html = '';\n  categoryData.forEach(book => {\n    html += `\n        <li class=\"category_list-card\">\n            <div class=\"top_list-book_cover_wrapper\" data-bookid=\"${book._id}\" tabindex=\"0\">\n                <img class=\"top_list-book_cover\" src=\"${book.book_image}\" alt=\"${book.title}\">\n                <div class=\"quick-view-text\">Quick view</div>\n            </div>\n            <h3 class=\"top_list-book_title\">${book.title}</h3>\n            <p class=\"top_list-book_author\">${book.author}</p>\n        </li>\n        `;\n  });\n  html += `<li><button class=\"all_categories\">All Categories</button></li>`;\n  refs.categoryListElem.innerHTML = html;\n  spinnerStop();\n}\n\nfunction titleCategory(category) {\n  const textContent = category;\n  const words = textContent.split(' ');\n  const lastWord = words.pop();\n  refs.titleElement.textContent = words.join(' ');\n  const spanElement = document.createElement('span');\n  spanElement.textContent = ' ' + lastWord;\n  refs.titleElement.appendChild(spanElement);\n  isNoBooksToastShown = false;\n}\n\nfunction scrollHandler() {\n  const allCategoriesButton = document.querySelector('.all_categories');\n  if (allCategoriesButton) {\n    const buttonRect = allCategoriesButton.getBoundingClientRect();\n    const windowHeight =\n      window.innerHeight || document.documentElement.clientHeight;\n    if (\n      buttonRect.top < windowHeight &&\n      !isNoBooksToastShown &&\n      refs.topListElem.classList.contains('hidden')\n    ) {\n      showNoBooksToast();\n      isNoBooksToastShown = true;\n    }\n  }\n}\n\nfunction smoothScrollToElement() {\n  const windowWidth = window.innerWidth || document.documentElement.clientWidth;\n  const element = refs.titleElement;\n  if (windowWidth < 1440) {\n    setTimeout(function () {\n      const scrollOffset = element.getBoundingClientRect().top - 60;\n      window.scrollTo({ top: scrollOffset, behavior: 'smooth' });\n    }, 1100);\n  }\n}\n\nlet scrollTimeout;\n\nfunction isPageScrolledToBottom() {\n  return window.innerHeight + window.scrollY >= document.body.offsetHeight;\n}\nwindow.addEventListener('scroll', function () {\n  if (isPageScrolledToBottom()) {\n    clearTimeout(scrollTimeout);\n    scrollTimeout = setTimeout(function () {\n      const title = refs.titleElement.textContent.trim();\n      if (title === 'Best Sellers Books') {\n        showNotInLibraryToast();\n      }\n    }, 500);\n  }\n});\n\nfunction allCategoriesClassActive(category) {\n  const allCategories = document.querySelector('.link');\n  const sidebar = document.querySelector('.sidebar');\n  refs.allCategoriesElement.querySelectorAll('.gallery-link').forEach(link => {\n    if (category === link.textContent.trim()) {\n      link.classList.add('active');\n      allCategories.classList.remove('all-categories-link');\n      sidebar.scrollTop = link.offsetTop - sidebar.offsetTop;\n    } else {\n      link.classList.remove('active');\n    }\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getCategoryList } from '../js/booksAPI';\n\nconst allCategories = document.querySelector('.all-categories');\n\nfunction renderCategoryList(arr) {\n  const markup = arr\n    .map(item => {\n      return `\n            <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=#>${item.list_name}\n            </a>\n          </li>`;\n    })\n    .join('');\n  return markup;\n}\n\nfunction viewLightBox(markup) {\n  allCategories.insertAdjacentHTML('beforeend', markup);\n}\n\ngetCategoryList()\n  .then(response => renderCategoryList(response))\n  .then(markup => {\n    viewLightBox(markup);\n    click();\n    toggle();\n  })\n  .catch(error =>\n    iziToast.error({\n      maxWidth: '432px',\n      messageColor: 'rgb(250, 250, 251)',\n      messageSize: '16px',\n      backgroundColor: 'rgb(239, 64, 64)',\n      position: 'topRight',\n      message: `${error}`,\n    })\n  );\n\nfunction click() {\n  const gallery = document.querySelectorAll('.gallery-link');\n  const link = document.querySelector('.link');\n\n  gallery.forEach(item => {\n    item.addEventListener('click', () => {\n      link.classList.remove('all-categories-link');\n    });\n  });\n}\n\n// Функція, яка вмикатиме кнопку на наступній позиції\nfunction toggle() {\n  const buttons = document.querySelectorAll('.gallery-link');\n  let currentIndex = 0;\n\n  // Додаємо слухача подій для кожної кнопки\n  buttons.forEach((button, index) => {\n    button.addEventListener('click', () => {\n      buttons[currentIndex].classList.remove('active');\n      currentIndex = index;\n      buttons[currentIndex].classList.add('active');\n    });\n  });\n}\n","const scrollBtn = document.getElementById('scrollToTopBtn');\ndocument.body.scrollTop = 0; // Для Safari\ndocument.documentElement.scrollTop = 0; // Для всіх інших браузерів\n\nscrollBtn.addEventListener('click', onScrollBtnClick);\nwindow.addEventListener('scroll', onScroll);\n\nfunction onScroll() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    document.getElementById('scrollToTopBtn').style.display = 'block';\n    scrollBtn.classList.remove('visually-hidden');\n  } else {\n    document.getElementById('scrollToTopBtn').style.display = 'none';\n  }\n}\nfunction onScrollBtnClick() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n"],"names":["ADD_BTN_LABEL","REMOVE_BTN_LABEL","bodyRef","modalBookContainer","modalCloseBtn","shoppingListBtn","bookCover","bookTitle","bookAuthor","bookDescription","amazonLink","iBookLink","onModalCloseBtn","onShoppingListBtn","onBackgroundClick","isBookInShopList","bookData","currentId","e","onOpenModal","id","getBookById","isBookInList","updateModalMarkup","switchBookInList","updateBookStatus","data","isInList","book_image","author","title","description","buy_links","amazonUrl","_a","buy_link","iBooksUrl","_b","showNoBooksToast","iziToast","showNotInLibraryToast","refs","isNoBooksToastShown","clickSeeMore","clickByBook","clickByAllCategory","scrollHandler","spinnerPlay","topList","getTopList","html","elem","renderTopList","spinnerStop","renderBooks","books","i","bookHtml","book","event","bookId","category","titleCategory","categoryList","smoothScrollToElement","allCategoriesClassActive","categoryData","getBooksByCategory","words","lastWord","spanElement","allCategoriesButton","buttonRect","windowHeight","windowWidth","element","scrollOffset","scrollTimeout","isPageScrolledToBottom","allCategories","sidebar","link","renderCategoryList","arr","item","viewLightBox","markup","getCategoryList","response","click","toggle","error","gallery","buttons","currentIndex","button","index","scrollBtn","onScrollBtnClick","onScroll"],"mappings":"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"}