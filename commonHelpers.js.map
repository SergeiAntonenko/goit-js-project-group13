{"version":3,"file":"commonHelpers.js","sources":["../src/img/modal/modal-icons.svg","../src/js/modal.js","../src/js/warnings.js","../src/js/home.js","../src/js/all-categories.js","../src/js/scroll-up.js"],"sourcesContent":["export default \"__VITE_ASSET__d9d34675__\"","import { getBookById } from './booksAPI';\nimport iconsPath from '../img/modal/modal-icons.svg';\nimport { switchBookInList, isBookInList } from './local-storage';\n\nconst bodyRef = document.querySelector('body');\nconst modalContainer = document.querySelector('#modalBookContainer');\nlet bookActionContainer;\nlet modalBookBackground;\nlet modalCloseBtn;\nlet shoppingListBtn;\nlet isBookInShopList;\nlet bookData;\nlet currentId;\n\ndocument.addEventListener('keyup', e => {\n  if (e.code === 'Escape') {\n    onModalCloseBtn();\n  }\n});\n\nexport async function onOpenModal(id) {\n  currentId = id;\n  bookData = await getBookById(currentId);\n  isBookInShopList = isBookInList(currentId);\n  const modalMarkup = getModalMarkup(bookData);\n  modalContainer.insertAdjacentHTML('afterbegin', modalMarkup);\n\n  bookActionContainer = document.querySelector('#bookActionContainer');\n  initModalCloseBtn();\n  initShoppingListBtn();\n  initBackgroundClick();\n\n  bodyRef.classList.add('overflow-hidden');\n}\n\nfunction onModalCloseBtn() {\n  modalCloseBtn.removeEventListener('click', onModalCloseBtn);\n  shoppingListBtn.removeEventListener('click', onShoppingListBtn);\n  modalBookBackground.removeEventListener('click', onBackgroundClick);\n  modalContainer.innerHTML = '';\n  bodyRef.classList.remove('overflow-hidden');\n}\n\nfunction onShoppingListBtn() {\n  shoppingListBtn.removeEventListener('click', onShoppingListBtn);\n\n  switchBookInList(currentId);\n  isBookInShopList = isBookInList(currentId);\n\n  const bookActionMarkup = getBookActionMarkup();\n  bookActionContainer.innerHTML = bookActionMarkup;\n  initShoppingListBtn();\n}\n\nfunction getModalMarkup(data) {\n  const { book_image, author, title, description, buy_links } = data;\n  const amazonUrl =\n    buy_links.find(buy_link => buy_link.name === 'Amazon')?.url ||\n    'https://www.amazon.com/';\n  const iBooksUrl =\n    buy_links.find(buy_link => buy_link.name === 'Apple Books')?.url ||\n    'https://www.apple.com/apple-books/';\n\n  return `\n    <div class=\"book-background\" id=\"modalBookBackground\">\n      <div class=\"modal-container\">\n        <button class=\"modal-close\" id=\"modalClose\">\n          <svg class=\"modal-close-icon\" width=\"12\" height=\"12\">\n            <use href=\"${iconsPath}#icon-close\"></use>\n          </svg>\n        </button>\n        <div class=\"book-box\">\n          <img src=\"${book_image}\" alt=\"${title} cover\" class=\"book-cover\">\n          <div class=\"book-description-box\">\n            <h2 class=\"book-title\">${title}</h2>\n            <div class=\"book-author\">${author}</div>\n            <p class=\"book-description\">${description}</p>\n            <ul class=\"book-shop-list\">\n              <li class=\"book-shop-item\">\n                <a href=\"${amazonUrl}\" class=\"book-shop-link\" target=\"_blank\">\n                  <svg class=\"book-shop-logo amazon-logo\" width=\"62\" height=\"19\">\n                    <use href=\"${iconsPath}#icon-amazon-logo\"></use>\n                  </svg>\n                </a>\n              </li>\n              <li class=\"book-shop-item\">\n                <a href=\"${iBooksUrl}\" class=\"book-shop-link\" target=\"_blank\">\n                  <svg class=\"book-shop-logo ibooks-logo\" width=\"32\" height=\"32\">\n                    <use href=\"${iconsPath}#icon-ibooks-logo\"></use>\n                  </svg>    \n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"book-action\" id=\"bookActionContainer\">${getBookActionMarkup()}</div>\n      </div>\n    </div>\n  `;\n}\n\nfunction getBookActionMarkup() {\n  const congratulationsMarkup = isBookInShopList\n    ? '<p class=\"book-congratulations\">Сongratulations! You have added the book to the shopping list. To delete, press the button \"Remove from the shopping list\".</p>'\n    : '';\n\n  const shoppingListBtnLabel = isBookInShopList\n    ? 'remove from the shopping list'\n    : 'add to shopping list';\n\n  return `\n    <button class=\"book-action-btn\" id=\"shoppingListBtn\">${shoppingListBtnLabel}</button>\n    ${congratulationsMarkup}\n  `;\n}\n\nfunction initModalCloseBtn() {\n  modalCloseBtn = document.querySelector('#modalClose');\n  modalCloseBtn.addEventListener('click', onModalCloseBtn);\n}\n\nfunction initShoppingListBtn() {\n  shoppingListBtn = document.querySelector('#shoppingListBtn');\n  shoppingListBtn.addEventListener('click', onShoppingListBtn);\n}\n\nfunction initBackgroundClick() {\n  modalBookBackground = document.querySelector('#modalBookBackground');\n  modalBookBackground.addEventListener('click', onBackgroundClick);\n}\n\nfunction onBackgroundClick(e) {\n  if (e.target === e.currentTarget) {\n    onModalCloseBtn();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function showNoBooksToast() {\n  iziToast.error({\n    title: 'Warning',\n    message: 'There are no more books in this category',\n    position: 'topRight',\n    backgroundColor: '#eac645',\n  });\n}\n\nexport function showNotInLibraryToast() {\n  iziToast.error({\n    title: 'Warning',\n    message: 'There are no more books in this library',\n    position: 'topRight',\n    backgroundColor: '#eac645',\n  });\n}\n","import { getTopList, getBooksByCategory } from './booksAPI.js';\nimport { onOpenModal } from './modal.js';\nimport { spinnerPlay, spinnerStop } from './spinner.js';\nimport { showNoBooksToast, showNotInLibraryToast } from './warnings.js';\n\nconst refs = {\n  topListElem: document.querySelector('#topList'),\n  categoryListElem: document.querySelector('#categoryList'),\n  titleElement: document.querySelector('.top_list-title'),\n};\n\nlet isNoBooksToastShown = false;\n\n// Добавляем слушатели событий на Книжки и \"See Mor\" при загрузке страницы\ndocument.addEventListener('DOMContentLoaded', function () {\n  document.addEventListener('click', clickSeeMore);\n  document.addEventListener('click', clickByBook);\n  document.addEventListener('click', clickByAllCategory);\n  window.addEventListener('scroll', scrollHandler); // скрол\n});\n\n// Ждем загрузки страницы и создаём список лучших книг\ndocument.addEventListener('DOMContentLoaded', async function () {\n  spinnerPlay(refs.titleElement);\n  refs.topListElem.innerHTML = '';\n  const topListData = getTopList();\n  const topList = await topListData;\n  let html = '';\n  topList.forEach(elem => {\n    html += renderTopList(elem);\n  });\n  refs.topListElem.innerHTML = html; // исправил то что Юля писала. Теперь отрисовывается за 1 запрос\n  spinnerStop();\n});\n\n// Собираем HTML в кучу и возвращаем его\nfunction renderTopList(elem) {\n  return `\n        <li class=\"top_list-container\">\n            <h2 class=\"top_list-category_name\">${elem.list_name}</h2>\n            <ul class=\"top_list-cards\">${renderBooks(elem.books)}</ul>\n            <button class=\"top_list-see_more\" data-category=\"${\n              elem.list_name\n            }\">See More</button>\n        </li>\n    `;\n}\n\nfunction renderBooks(books) {\n  let i = 1; // порядковый номер от 1 до 5 для скрытия ненужных книг в мобильных стилях\n  const bookHtml = books\n    .map(\n      book => `\n        <li class=\"top_list-card\" data-book-sequence-number=\"${i++}\">\n            <div class=\"top_list-book_cover_wrapper\" data-bookid=\"${\n              book._id\n            }\" tabindex=\"0\">\n                <img class=\"top_list-book_cover\" src=\"${\n                  book.book_image\n                }\" alt=\"${book.title}\">\n                <div class=\"quick-view-text\">Quick view</div>\n            </div>\n            <h3 class=\"top_list-book_title\">${book.title}</h3>\n            <p class=\"top_list-book_author\">${book.author}</p>\n        </li>\n    `\n    )\n    .join('');\n  i++;\n  return bookHtml;\n}\n\n// Клика по Книге\nconst clickByBook = function (event) {\n  if (\n    event.target.parentElement?.classList.contains(\n      'top_list-book_cover_wrapper'\n    )\n  ) {\n    const bookId = event.target.parentElement.dataset.bookid;\n    onOpenModal(bookId);\n  }\n};\n\n// Клик по кнопке \"See More\"\nconst clickSeeMore = function (event) {\n  if (event.target.classList.contains('top_list-see_more')) {\n    refs.topListElem.classList.add('hidden');\n    refs.categoryListElem.classList.remove('hidden');\n    const category = event.target.dataset.category;\n    titleCategory(category);\n    categoryList(category);\n    document.removeEventListener('click', clickByBook); // удаляем созданные слуштаели событий по книгам\n    document.addEventListener('click', clickByBook); // создаем новые только для тех которые только что отрендерели\n    smoothScrollToElement();\n  }\n  if (event.target.classList.contains('gallery-link')) {\n    refs.topListElem.classList.add('hidden');\n    refs.categoryListElem.classList.remove('hidden');\n    const category = event.target.textContent.trim();\n    titleCategory(category);\n    categoryList(category);\n    smoothScrollToElement();\n    document.removeEventListener('click', clickByBook); // удаляем созданные слуштаели событий по книгам\n    document.addEventListener('click', clickByBook); // создаем новые только для тех которые только что отрендерели\n    smoothScrollToElement();\n  }\n};\n\n// Клик по кнопке \"All Categories\"\nconst clickByAllCategory = async function (event) {\n  if (\n    event.target.classList.contains('all_categories') ||\n    event.target.classList.contains('link')\n  ) {\n    refs.titleElement.innerHTML = 'Best Sellers <span>Books</span>';\n    refs.categoryListElem.classList.add('hidden');\n    refs.topListElem.classList.remove('hidden');\n    smoothScrollToElement();\n  }\n};\n\n// Асинхронная функция которая получает список книг по категории и отрисовывает его\nasync function categoryList(category) {\n  spinnerPlay(refs.titleElement);\n  refs.categoryListElem.innerHTML = '';\n  const categoryDataPromise = getBooksByCategory(category);\n  const categoryData = await categoryDataPromise;\n  let html = '';\n  categoryData.forEach(book => {\n    html += `\n        <li class=\"category_list-card\">\n            <div class=\"top_list-book_cover_wrapper\" data-bookid=\"${book._id}\" tabindex=\"0\">\n                <img class=\"top_list-book_cover\" src=\"${book.book_image}\" alt=\"${book.title}\">\n                <div class=\"quick-view-text\">Quick view</div>\n            </div>\n            <h3 class=\"top_list-book_title\">${book.title}</h3>\n            <p class=\"top_list-book_author\">${book.author}</p>\n        </li>\n        `;\n  });\n  html += `<li><button class=\"all_categories\">All Categories</button></li>`;\n  refs.categoryListElem.innerHTML = html;\n  spinnerStop();\n}\n\n// функция меняет название категории вверху\nfunction titleCategory(category) {\n  const textContent = category;\n  const words = textContent.split(' ');\n  const lastWord = words.pop();\n  refs.titleElement.textContent = words.join(' ');\n  const spanElement = document.createElement('span');\n  spanElement.textContent = ' ' + lastWord;\n  refs.titleElement.appendChild(spanElement);\n  isNoBooksToastShown = false;\n}\n\nfunction scrollHandler() {\n  const allCategoriesButton = document.querySelector('.all_categories');\n  if (allCategoriesButton) {\n    const buttonRect = allCategoriesButton.getBoundingClientRect();\n    const windowHeight =\n      window.innerHeight || document.documentElement.clientHeight;\n    if (\n      buttonRect.top < windowHeight &&\n      !isNoBooksToastShown &&\n      refs.topListElem.classList.contains('hidden')\n    ) {\n      showNoBooksToast();\n      isNoBooksToastShown = true;\n    }\n  }\n}\n\nfunction smoothScrollToElement() {\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth;\n    const element = refs.titleElement;\n    if (windowWidth < 1440) {\n        setTimeout(function() {\n            const scrollOffset = element.getBoundingClientRect().top - 60;\n            window.scrollTo({ top: scrollOffset, behavior: \"smooth\" });\n        }, 1100);\n    }\n}\n\n\n// варнинг когда достингли конца категорий\nfunction isPageScrolledToBottom() {\n    return window.innerHeight + window.scrollY >= document.body.offsetHeight;\n}\nwindow.addEventListener('scroll', function() {\n    if (isPageScrolledToBottom()) {\n        const title = refs.titleElement.textContent.trim();\n        if (title === \"Best Sellers Books\") {\n            showNotInLibraryToast();\n        }\n    }\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getCategoryList } from '../js/booksAPI';\n\nconst allCategories = document.querySelector('.all-categories');\n\nfunction renderCategoryList(arr) {\n  const markup = arr\n    .map(item => {\n      return `\n            <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=#>${item.list_name}\n            </a>\n          </li>`;\n    })\n    .join('');\n  return markup;\n}\n\nfunction viewLightBox(markup) {\n  allCategories.insertAdjacentHTML('beforeend', markup);\n}\n\ngetCategoryList()\n  .then(response => renderCategoryList(response))\n  .then(markup => {\n    viewLightBox(markup);\n    click();\n  })\n  .catch(error =>\n    iziToast.error({\n      maxWidth: '432px',\n      messageColor: 'rgb(250, 250, 251)',\n      messageSize: '16px',\n      backgroundColor: 'rgb(239, 64, 64)',\n      position: 'topRight',\n      message: `${error}`,\n    })\n  );\n\nfunction click() {\n  const gallery = document.querySelectorAll('.gallery-link');\n  const link = document.querySelector('.link');\n\n  gallery.forEach(item => {\n    item.addEventListener('click', () => {\n      link.classList.remove('all-categories-link');\n    });\n  });\n}\n","const scrollBtn = document.getElementById('scrollToTopBtn');\ndocument.body.scrollTop = 0; // Для Safari\ndocument.documentElement.scrollTop = 0; // Для всіх інших браузерів\n\nscrollBtn.addEventListener('click', onScrollBtnClick);\nwindow.addEventListener('scroll', onScroll);\n\nfunction onScroll() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    document.getElementById('scrollToTopBtn').style.display = 'block';\n    scrollBtn.classList.remove('visually-hidden');\n  } else {\n    document.getElementById('scrollToTopBtn').style.display = 'none';\n  }\n}\nfunction onScrollBtnClick() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n"],"names":["iconsPath","bodyRef","modalContainer","bookActionContainer","modalBookBackground","modalCloseBtn","shoppingListBtn","isBookInShopList","bookData","currentId","e","onModalCloseBtn","onOpenModal","id","getBookById","isBookInList","modalMarkup","getModalMarkup","initModalCloseBtn","initShoppingListBtn","initBackgroundClick","onShoppingListBtn","onBackgroundClick","switchBookInList","bookActionMarkup","getBookActionMarkup","data","book_image","author","title","description","buy_links","amazonUrl","_a","buy_link","iBooksUrl","_b","showNoBooksToast","iziToast","showNotInLibraryToast","refs","isNoBooksToastShown","clickSeeMore","clickByBook","clickByAllCategory","scrollHandler","spinnerPlay","topList","getTopList","html","elem","renderTopList","spinnerStop","renderBooks","books","i","bookHtml","book","event","bookId","category","titleCategory","categoryList","smoothScrollToElement","categoryData","getBooksByCategory","words","lastWord","spanElement","allCategoriesButton","buttonRect","windowHeight","windowWidth","element","scrollOffset","isPageScrolledToBottom","allCategories","renderCategoryList","arr","item","viewLightBox","markup","getCategoryList","response","click","error","gallery","link","scrollBtn","onScrollBtnClick","onScroll"],"mappings":"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"}