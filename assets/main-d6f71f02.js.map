{"version":3,"file":"main-d6f71f02.js","sources":["../../src/js/booksAPI.js","../../src/js/main.js"],"sourcesContent":["// import axios from 'axios';\nimport axios from 'https://cdn.jsdelivr.net/npm/axios@1.3.5/+esm';\n\nconst BASE_URL = \"https://books-backend.p.goit.global\";\nconst END_POINTS = [\n    '/books/category-list',\n    '/books/top-books',\n    '/books/category',\n    '/books',\n];\n\n\nexport async function getCategoryList() {\n    const url = `${BASE_URL}${END_POINTS[0]}`;\n    try {\n        const res = await axios.get(url);\n        return res.data;\n    } catch (error) {\n        console.error('Error fetching category list: ', error);\n        throw error;\n    }\n}\n\nexport async function getTopList() {\n    const url = `${BASE_URL}${END_POINTS[1]}`;\n    try {\n        const res = await axios.get(url);\n        return res.data;\n    } catch (error) {\n        console.error('Error fetching Top Books list: ', error);\n        throw error;\n    }\n}\n\nexport async function getBooksByCategory(category) {\n    const url = `${BASE_URL}${END_POINTS[2]}`;\n    const params = {\n        category: category,\n    };\n    try {\n        const res = await axios.get(url, { params });\n        return res.data;\n    } catch (error) {\n        console.error('Error fetching books by category name: ', error);\n        throw error;\n    }\n}\n\nexport async function getBookById(id) {\n      const url = `${BASE_URL}${END_POINTS[3]}/${id}`;\n      try {\n          const res = await axios.get(url);\n          return res.data;\n      } catch (error) {\n          console.error('Error fetching book by id: ', error);\n          throw error;\n      }\n}\n","import { getTopList } from './booksAPI.js';\n\nconst refs = {\n    topListElem: document.querySelector('#topList'),\n  };\n\ndocument.addEventListener(\"DOMContentLoaded\", async function() {\n    refs.topListElem.innerHTML = '';\n    const topListData = getTopList();\n    const topList = await topListData;\n    topList.forEach(elem => {\n        console.log(elem);\n        renderTopList(elem)\n    });\n});\n\nfunction renderTopList(elem) {\n    const html = `\n        <div class=\"top_list-group\">\n            <div class=\"top_list-category_name\">${elem.list_name}</div>\n            <div class=\"top_list-book_list\">\n                ${renderBooks(elem.books)}\n            </div>\n            <button class=\"btn-see_more\" data-category=\"${elem.list_name}\">See More</button>\n            <div style=\"clear:both;\"></div>\n        </div>\n    `;\n    refs.topListElem.innerHTML += html;\n}\n\nfunction renderBooks(books) {\n    let i = 1; // порядковый номер от 1 до 5\n    const bookHtml = books.map(book => `\n        <div class=\"top_list-book\" data-book-id=\"${book._id}\" data-book-sequence-number=\"${i++}\">\n            <img class=\"top_list-book_img\" src=\"${book.book_image}\" alt=\"${book.title}\">\n            <div class=\"top_list-book_title\">${book.title}</div>\n            <div class=\"top_list-book_author\">${book.author}</div>\n        </div>\n    `).join('');\n    i++;\n    return bookHtml;\n}\n\n\n// document.addEventListener(\"DOMContentLoaded\", async function() {\n//     const categoryListData = getCategoryList();\n//     const categoryList = await categoryListData;\n//     const ulElement = document.getElementById(\"categoryList\"); // Получаем DOM элемент <ul> по его идентификатору\n//     categoryList.forEach(category => {\n//         const liElement = document.createElement(\"li\");\n//         liElement.textContent = category.list_name;\n//         liElement.classList.add(\"categoryList\"); \n//         ulElement.appendChild(liElement); \n//     });\n// });\n\n// список книг в данной категории\n// document.querySelector(\"#booksByCategory\").addEventListener(\"click\", async function() {\n//     let category = \"Picture Books\"; // пример категории\n//     const categoryDataPromise = getBooksByCategory(category);\n//     const categoryData = await categoryDataPromise;\n//     categoryData.forEach(book => {\n//         console.log(book._id);\n//         console.log(book.list_name);\n//     });\n    \n// });\n\n// // выод информации по одной книге\n// document.querySelector(\"#btnBook\").addEventListener(\"click\", async function() {\n//     let id = \"643282b1e85766588626a080\"; // пример id книги\n//     const bookDataPromise = getBookById(id);\n//     const bookData = await bookDataPromise;\n//     const author = bookData.author;\n//     const title = bookData.title;\n//     console.log(\"Author:\", author);\n//     console.log(\"Title:\", title);\n// });\n"],"names":["BASE_URL","END_POINTS","getTopList","url","axios","error","refs","elem","renderTopList","html","renderBooks","books","i","bookHtml","book"],"mappings":"mwBAGA,MAAMA,EAAW,sCACXC,EAAa,CACf,uBACA,mBACA,kBACA,QACJ,EAcO,eAAeC,GAAa,CAC/B,MAAMC,EAAM,GAAGH,CAAQ,GAAGC,EAAW,CAAC,CAAC,GACvC,GAAI,CAEA,OADY,MAAMG,EAAM,IAAID,CAAG,GACpB,IACd,OAAQE,EAAO,CACZ,cAAQ,MAAM,kCAAmCA,CAAK,EAChDA,CACT,CACL,CC9BA,MAAMC,EAAO,CACT,YAAa,SAAS,cAAc,UAAU,CAClD,EAEA,SAAS,iBAAiB,mBAAoB,gBAAiB,CAC3DA,EAAK,YAAY,UAAY,IAEb,MADIJ,KAEZ,QAAQK,GAAQ,CACpB,QAAQ,IAAIA,CAAI,EAChBC,EAAcD,CAAI,CAC1B,CAAK,CACL,CAAC,EAED,SAASC,EAAcD,EAAM,CACzB,MAAME,EAAO;AAAA;AAAA,kDAEiCF,EAAK,SAAS;AAAA;AAAA,kBAE9CG,EAAYH,EAAK,KAAK,CAAC;AAAA;AAAA,0DAEiBA,EAAK,SAAS;AAAA;AAAA;AAAA,MAIpED,EAAK,YAAY,WAAaG,CAClC,CAEA,SAASC,EAAYC,EAAO,CACxB,IAAIC,EAAI,EACR,MAAMC,EAAWF,EAAM,IAAIG,GAAQ;AAAA,mDACYA,EAAK,GAAG,gCAAgCF,GAAG;AAAA,kDAC5CE,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA,+CACtCA,EAAK,KAAK;AAAA,gDACTA,EAAK,MAAM;AAAA;AAAA,KAEtD,EAAE,KAAK,EAAE,EACV,OAAAF,IACOC,CACX"}